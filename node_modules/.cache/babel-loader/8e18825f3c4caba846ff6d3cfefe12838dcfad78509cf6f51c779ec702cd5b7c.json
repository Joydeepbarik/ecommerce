{"ast":null,"code":"import{useEffect,useState}from\"react\";import{CartWrapper}from\"../Styles/Modal-Style\";import{Product_Image_URL}from\"../Api/Api\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Cart(_ref){let{showCart,setShowCart,cartItems,setCartItems}=_ref;function closeCart(){setShowCart(false);}const handleRemoveItem=itemIndex=>{setCartItems(prevItems=>{const updatedItems=prevItems.filter((_,index)=>index!==itemIndex);// Remove the item at the given index\nlocalStorage.setItem('cartItems',JSON.stringify(updatedItems));// Update local storage\nreturn updatedItems;});};const handleIncrement=index=>{setCartItems(prevProducts=>{const updatedItems=prevProducts.map((item,i)=>i===index?{...item,quantity:item.quantity+1}:item);localStorage.setItem('cartItems',JSON.stringify(updatedItems));return updatedItems;});};const handleDecrement=index=>{setCartItems(prevProducts=>{const updatedItems=prevProducts.map((item,i)=>{if(i===index){return item.quantity>1?{...item,quantity:item.quantity-1}:null;}return item;}).filter(item=>item!==null);// Remove nulls when quantity hits 0\nlocalStorage.setItem('cartItems',JSON.stringify(updatedItems));return updatedItems;// Return the updated cart state\n});};const calculateTotal=()=>{return cartItems.reduce((total,item)=>total+item.price*item.quantity,0);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(CartWrapper,{className:showCart?'active':'',children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart_inner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart_top_section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"MY CART\"}),/*#__PURE__*/_jsx(\"a\",{onClick:closeCart,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-arrow-right-long\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart_item_section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sec_inner\",children:cartItems.length>0?cartItems.map((item,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"item_box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box_inner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"img_box\",children:/*#__PURE__*/_jsx(\"img\",{src:`${Product_Image_URL}/${item.pimage}`,alt:\"image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content_box\",children:[/*#__PURE__*/_jsx(\"h5\",{children:item.pname}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price : \",/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-indian-rupee-sign\"}),item.price,\" \",item.pCategory==='Electronics'?'':`(${item.unit})`]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item_count\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"count_box\",children:[/*#__PURE__*/_jsx(\"a\",{onClick:()=>handleDecrement(i),children:/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-minus\"})}),/*#__PURE__*/_jsx(\"p\",{children:item.quantity}),/*#__PURE__*/_jsx(\"a\",{onClick:e=>{e.stopPropagation();handleIncrement(i);},children:/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-plus\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"action_box\",children:/*#__PURE__*/_jsx(\"a\",{onClick:()=>handleRemoveItem(i),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-trash-can\"})})})]})},i)):/*#__PURE__*/_jsx(\"div\",{className:\"no_item_message\",children:/*#__PURE__*/_jsx(\"p\",{children:\"You haven't added any product.\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom_section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"total_sec\",children:[/*#__PURE__*/_jsx(\"a\",{children:\"Item Total\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Rs. \",/*#__PURE__*/_jsx(\"span\",{children:calculateTotal()}),\"/-\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"btn\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Checkout\"})})]})]})})});}export default Cart;","map":{"version":3,"names":["useEffect","useState","CartWrapper","Product_Image_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Cart","_ref","showCart","setShowCart","cartItems","setCartItems","closeCart","handleRemoveItem","itemIndex","prevItems","updatedItems","filter","_","index","localStorage","setItem","JSON","stringify","handleIncrement","prevProducts","map","item","i","quantity","handleDecrement","calculateTotal","reduce","total","price","children","className","onClick","length","src","pimage","alt","pname","pCategory","unit","class","e","stopPropagation"],"sources":["D:/GitHub/E-Commerce/src/Modals/Cart.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { CartWrapper } from \"../Styles/Modal-Style\";\r\nimport { Product_Image_URL } from \"../Api/Api\";\r\n\r\n\r\n\r\nfunction Cart({showCart, setShowCart, cartItems, setCartItems}) {\r\n\r\n    function closeCart() {\r\n        setShowCart(false);\r\n    }\r\n\r\n    const handleRemoveItem = (itemIndex) => {\r\n        setCartItems((prevItems) => {\r\n            const updatedItems = prevItems.filter((_, index) => index !== itemIndex); // Remove the item at the given index\r\n            localStorage.setItem('cartItems', JSON.stringify(updatedItems)); // Update local storage\r\n            return updatedItems;\r\n        });\r\n    };\r\n\r\n    const handleIncrement = (index) => {\r\n        setCartItems((prevProducts) => {\r\n            const updatedItems = prevProducts.map((item, i) =>\r\n                i === index ? { ...item, quantity: item.quantity + 1 } : item\r\n            );\r\n            localStorage.setItem('cartItems', JSON.stringify(updatedItems));\r\n            return updatedItems;\r\n        });\r\n    };\r\n\r\n    const handleDecrement = (index) => {\r\n        setCartItems((prevProducts) => {\r\n            const updatedItems = prevProducts.map((item, i) => {\r\n                if (i === index) {\r\n                    return item.quantity > 1 ? { ...item, quantity: item.quantity - 1 } : null;\r\n                }\r\n                return item;\r\n            }).filter(item => item !== null); // Remove nulls when quantity hits 0\r\n    \r\n            localStorage.setItem('cartItems', JSON.stringify(updatedItems));\r\n    \r\n            return updatedItems; // Return the updated cart state\r\n        });\r\n    };\r\n\r\n    const calculateTotal = () => {\r\n        return cartItems.reduce((total, item) => total + item.price * item.quantity, 0);\r\n    };\r\n    \r\n\r\n    return(\r\n        <>\r\n            <CartWrapper className={showCart ? 'active' : ''}>\r\n                <div className=\"cart_inner\">\r\n                    <div className=\"cart_top_section\">\r\n                        <h5>MY CART</h5>\r\n                        <a onClick={closeCart}><i className=\"fa-solid fa-arrow-right-long\"></i></a>\r\n                    </div>\r\n                    <div className=\"cart_item_section\">\r\n                        <div className=\"sec_inner\">\r\n                            {\r\n                                cartItems.length > 0 ?\r\n                                cartItems.map((item, i) => \r\n                                    <div className=\"item_box\" key={i}>\r\n                                        <div className=\"box_inner\">\r\n                                            <div className=\"img_box\">\r\n                                                <img src={`${Product_Image_URL}/${item.pimage}`} alt=\"image\" />\r\n                                            </div>\r\n                                            <div className=\"content_box\">\r\n                                                <h5>{item.pname}</h5>\r\n                                                <p>Price : <span><i className=\"fa-solid fa-indian-rupee-sign\"></i>{item.price} {item.pCategory === 'Electronics' ? '' : `(${item.unit})`}</span></p>\r\n                                                <div className=\"item_count\">\r\n                                                    <div className=\"count_box\">\r\n                                                        <a onClick={() => handleDecrement(i)}><i class=\"fa-solid fa-minus\"></i></a>\r\n                                                        <p>{item.quantity}</p>\r\n                                                        <a onClick={(e) => {\r\n                                                            e.stopPropagation()\r\n                                                            handleIncrement(i)\r\n                                                        }}><i class=\"fa-solid fa-plus\"></i></a>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"action_box\">\r\n                                                <a onClick={() => handleRemoveItem(i)}><i className=\"fa-solid fa-trash-can\"></i></a>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                                :\r\n                                <div className=\"no_item_message\">\r\n                                    <p>You haven't added any product.</p>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"bottom_section\">\r\n                        <div className=\"total_sec\">\r\n                            <a>Item Total</a>\r\n                            <p>Rs. <span>{calculateTotal()}</span>/-</p>\r\n                        </div>\r\n                        <div className=\"btn\">\r\n                            <button>Checkout</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </CartWrapper>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nexport default Cart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}